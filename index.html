<!DOCTYPE html>
<html lang="pt-br" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Chord Guide Mobile</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
</head>

<body>

    <header class="top-bar">
        <div class="header-grid">
            <button class="selector-btn" onclick="openModal('modalKey')">
                <span class="label">Tom</span>
                <span class="value" id="labelKey">C</span>
            </button>

            <button class="selector-btn highlight" onclick="openModal('modalRoot')">
                <span class="label">Nota</span>
                <span class="value" id="labelRoot">C</span>
            </button>

            <button class="selector-btn" onclick="openModal('modalType')">
                <span class="label">Tipo</span>
                <span class="value" id="labelType">Major</span>
            </button>

            <button class="theme-toggle" onclick="toggleTheme()">
                <span class="material-symbols-rounded" id="themeIcon">dark_mode</span>
            </button>
        </div>
    </header>

    <main class="main-stage">

        <div class="chord-info">
            <h1 id="displaySymbol">C</h1>
            <p id="displayName">Major</p>
        </div>

        <div class="controls-row">
            <div class="variation-badge" id="displayVariation">Var 1/3</div>

            <label class="toggle-switch">
                <input type="checkbox" id="barreToggle" onchange="toggleBarreFilter()" checked>
                <span class="slider"></span>
                <span class="toggle-label">Pestanas</span>
            </label>
        </div>

        <div class="diagram-wrapper">
            <button class="nav-arrow" onclick="changeVariation(-1)">
                <span class="material-symbols-rounded">chevron_left</span>
            </button>

            <div class="fretboard-outer">
                <div class="fretboard-container">
                    <div class="fret-marker-container">
                        <span id="fretOffset">1fr</span>
                    </div>

                    <div class="nut" id="guitarNut"></div>

                    <div class="strings-layer">
                        <div class="string"></div>
                        <div class="string"></div>
                        <div class="string"></div>
                        <div class="string"></div>
                        <div class="string"></div>
                        <div class="string"></div>
                    </div>

                    <div class="frets-layer">
                        <div class="fret"></div>
                        <div class="fret"></div>
                        <div class="fret"></div>
                        <div class="fret"></div>
                    </div>

                    <div class="markers-layer" id="markersLayer"></div>

                    <div class="string-numbers">
                        <span>6</span><span>5</span><span>4</span><span>3</span><span>2</span><span>1</span>
                    </div>
                </div>
            </div>

            <button class="nav-arrow" onclick="changeVariation(1)">
                <span class="material-symbols-rounded">chevron_right</span>
            </button>
        </div>

        <section class="harmonic-section">
            <div class="section-title">
                <span class="material-symbols-rounded icon">piano</span>
                <span>Campo de <b id="harmonicKeyName">C</b></span>
            </div>
            <div class="harmonic-scroll">
                <div class="harmonic-grid" id="harmonicGrid"></div>
            </div>
        </section>

    </main>

    <div id="modalKey" class="modal-overlay" onclick="closeModal('modalKey')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h3>Tom do Campo</h3>
                <button class="close-btn" onclick="closeModal('modalKey')">✕</button>
            </div>
            <div class="grid-options" id="keyGrid"></div>
        </div>
    </div>

    <div id="modalRoot" class="modal-overlay" onclick="closeModal('modalRoot')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h3>Nota do Acorde</h3>
                <button class="close-btn" onclick="closeModal('modalRoot')">✕</button>
            </div>
            <div class="grid-options" id="rootGrid"></div>
        </div>
    </div>

    <div id="modalType" class="modal-overlay" onclick="closeModal('modalType')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h3>Variação</h3>
                <button class="close-btn" onclick="closeModal('modalType')">✕</button>
            </div>
            <div class="type-options" id="typeGrid"></div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>