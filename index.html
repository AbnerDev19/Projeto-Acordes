<!DOCTYPE html>
<html lang="pt-br" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chord Guide - Ultimate</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
</head>

<body>

    <header class="top-bar">
        <div class="header-content">
            <div class="selector-group">
                <button class="selector-btn" onclick="openModal('modalKey')">
                    <span class="label">Tom (Key)</span>
                    <span class="value" id="labelKey">C</span>
                </button>

                <div class="divider"></div>

                <button class="selector-btn" onclick="openModal('modalRoot')">
                    <span class="label">Acorde</span>
                    <span class="value" id="labelRoot">C</span>
                </button>

                <button class="selector-btn" onclick="openModal('modalType')">
                    <span class="label">Tipo</span>
                    <span class="value" id="labelType">Major</span>
                </button>
            </div>

            <button class="theme-toggle" onclick="toggleTheme()">
                <span class="material-symbols-rounded" id="themeIcon">dark_mode</span>
            </button>
        </div>
    </header>

    <main class="main-stage">

        <div class="chord-header">
            <h1 id="displaySymbol">C</h1>
            <p id="displayName">Major Triad</p>

            <div class="controls-row">
                <div class="variation-counter" id="displayVariation">Var 1/3</div>

                <label class="toggle-switch">
                    <input type="checkbox" id="barreToggle" onchange="toggleBarreFilter()" checked>
                    <span class="slider"></span>
                    <span class="toggle-label">Pestanas</span>
                </label>
            </div>
        </div>

        <div class="diagram-wrapper">
            <button class="nav-arrow" onclick="changeVariation(-1)">
                <span class="material-symbols-rounded">chevron_left</span>
            </button>

            <div class="fretboard-container">
                <div class="fret-number" id="fretOffset">1fr</div>
                <div class="nut" id="guitarNut"></div>

                <div class="strings-layer">
                    <div class="string"></div>
                    <div class="string"></div>
                    <div class="string"></div>
                    <div class="string"></div>
                    <div class="string"></div>
                    <div class="string"></div>
                </div>

                <div class="frets-layer">
                    <div class="fret"></div>
                    <div class="fret"></div>
                    <div class="fret"></div>
                    <div class="fret"></div>
                </div>

                <div class="markers-layer" id="markersLayer"></div>

                <div class="string-numbers">
                    <span>6</span><span>5</span><span>4</span><span>3</span><span>2</span><span>1</span>
                </div>
            </div>

            <button class="nav-arrow" onclick="changeVariation(1)">
                <span class="material-symbols-rounded">chevron_right</span>
            </button>
        </div>

        <section class="harmonic-section">
            <div class="section-title">
                <span class="material-symbols-rounded icon">piano</span> Campo Harm√¥nico de <span id="harmonicKeyName">C</span>
            </div>
            <div class="harmonic-grid" id="harmonicGrid">
            </div>
        </section>

    </main>

    <div id="modalKey" class="modal-overlay" onclick="closeModal('modalKey')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <h3>Definir Tonalidade (Campo)</h3>
            <div class="grid-options" id="keyGrid"></div>
        </div>
    </div>

    <div id="modalRoot" class="modal-overlay" onclick="closeModal('modalRoot')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <h3>Escolha o Acorde</h3>
            <div class="grid-options" id="rootGrid"></div>
        </div>
    </div>

    <div id="modalType" class="modal-overlay" onclick="closeModal('modalType')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <h3>Escolha o Tipo</h3>
            <div class="type-options" id="typeGrid"></div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>